<%= javascript_tag "var baseURL = '#{url_for( :controller => 'get_data', :only_path => false )}';" %>
<h1>Edit a Dams Object</h1>
<div class="dams-viewer">
<%#= form_for @dams_object , :html => { :onsubmit => 'processForm_generic("#dams_object_");' }  do |f| %>  
<%= form_for @dams_object , :html => { :onsubmit => 'processForm_generic("#dams_object_");', :multipart => true, :id => 'fileupload'}  do |f| %>  

  <%= render :partial => 'shared/edit_fields/title_edit_form', :locals => {:object => @dams_object, :object_type => "dams_object"}%>
       
  <%= render :partial => 'shared/edit_fields/type_of_resource_form', :locals => {:object => @dams_object, :object_type => "dams_object"}%>

  <%= render :partial => 'shared/edit_fields/date_edit_form', :locals => {:object => @dams_object, :object_type => "dams_object", :f => f}%>      

  <%= render :partial => 'shared/edit_fields/unit_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object"}%>
   
  <%= render :partial => 'shared/edit_fields/collections_edit_form', :locals => {:object => @dams_object, :object_type => "dams_object"}%>  
           
  <%= render :partial => 'shared/edit_fields/language_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object", :f => f}%>
    
  <%= render :partial => 'shared/edit_fields/notes_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object", :type => "note", :f => f}%>

  <%= render :partial => 'shared/edit_fields/notes_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object", :type => "scopeContentNote", :f => f}%>
  
  <%= render :partial => 'shared/edit_fields/notes_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object", :type => "custodialResponsibilityNote", :f => f}%>

  <%= render :partial => 'shared/edit_fields/notes_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object", :type => "preferredCitationNote", :f => f}%>

  <%= render :partial => 'shared/edit_fields/relationship_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object"}%>
  
  <%= render :partial => 'shared/edit_fields/complex_subjects_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object", :f => f}%> 

  <%= render :partial => 'shared/edit_fields/simple_subjects_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object", :f => f}%>
 
  <%= render :partial => 'shared/edit_fields/creator_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object"}%>
     
  <%= render :partial => 'shared/edit_fields/rights_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object"}%>

  <%= render :partial => 'shared/edit_fields/related_resource_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object", :f => f}%>
      
  <%= render :partial => 'shared/edit_fields/cartographics_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object"}%>     

  <%= render :partial => 'shared/edit_fields/file_edit_form' , :locals => {:object => @dams_object, :object_type => "dams_object", :f => f}%>     
  
	<!-- link to create new subject using autocomplete/new subject, if needed -->
  <br>
  <% if !@dams_object.file.nil? && @dams_object.file.size == 0%>
  	<h3>Add File</h3>
  	<input type="file" name="file"/>
  	<br/><br/>
  <% end %>  
  <%=f.submit "Save", class: "btn btn-primary" %>
  <%= link_to "Cancel", dams_object_path(@dams_object),  class: "btn btn-primary" %> 
<%end%>

</div>
