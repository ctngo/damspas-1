<%
	 if defined?(componentIndex) # Then we're working with a component
		 prefix = "component_#{componentIndex}_"
		 htmlOpen = "<tr><td>%s</td><td>"
		 htmlClose = "</td></tr>"
	 else # We're working with an object or collection
		 prefix = ''
		 htmlOpen = "<dt>%s</dt><dd>"
		 htmlClose = "</dd>"
	 end

	 topic = @document["#{prefix}topic_1_id_tesim"]

	 if topic != nil

		 htmlOpen %= 'Topics'
		 concat htmlOpen.html_safe
%>

		<ul class="unstyled">
			<%
				#fields:
				# topic_1_id_tesim, topic_1_name_tesim,
				# TODO make sure facet links work
				i = 1;
				loop do
					topicName = @document["topic_#{i}_name_tesim"].first
			%>
					<li><%= link_to "<i class='icon-tag icon-white'></i> #{topicName}".html_safe, facet_uri(topicName, 'subject_topic_sim'), :class => "label" %></li>
			<%
					i += 1 #try again
					break unless @document["topic_#{i}_id_tesim"] != nil
				end
			%>
		</ul>

<%
		concat htmlClose.html_safe

	end
%>